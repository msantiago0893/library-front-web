<div class ="containTitle">
  <h1 class ="title">{{book ? 'MODIFICAR LIBRO' : 'Agregar LIBRO'}}</h1>
</div>
<div class="containerBack">
  <img *ngIf="book" class="Back" (click)="toBack()" src="assets/images/flecha.svg">
</div>
<div class="productCards">
  <form #regForm="ngForm" class="form" [formGroup]="bookForm" novalidate>

    <div class="form__control">
      <mat-form-field fxFlex>
        <input matInput  type="text" placeholder="Nombre" formControlName="name">
        <mat-error *ngIf="bookForm.controls.name.touched && bookForm.controls.name.invalid">
          <span *ngIf="bookForm.get('name').errors.required">Campo obligatorio.</span>
          <span *ngIf="bookForm.get('name').errors.pattern">Campo de tipo texto.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field fxFlex>
        <input matInput  type="text"  placeholder="Editorial" formControlName="editorial">
        <mat-error *ngIf="bookForm.controls.editorial.touched && bookForm.controls.editorial.invalid">
          <span *ngIf="bookForm.get('editorial').errors.required">Campo obligatorio.</span>
          <span *ngIf="bookForm.get('editorial').errors.pattern">Campo de tipo texto.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field fxFlex>
        <input matInput  type="text"  placeholder="author" formControlName="author">
        <mat-error *ngIf="bookForm.controls.author.touched && bookForm.controls.author.invalid">
          <span *ngIf="bookForm.get('author').errors.required">Campo obligatorio.</span>
          <span *ngIf="bookForm.get('author').errors.pattern">Campo de tipo texto.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field fxFlex>
        <input matInput  type="text"  placeholder="Género" formControlName="gender">
        <mat-error *ngIf="bookForm.controls.gender.touched && bookForm.controls.gender.invalid">
          <span *ngIf="bookForm.get('gender').errors.required">Campo obligatorio.</span>
          <span *ngIf="bookForm.get('gender').errors.pattern">Campo de tipo texto.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field fxFlex>
        <input matInput  type="text"  placeholder="Número de páginas" formControlName="page">
        <mat-error *ngIf="bookForm.controls.page.touched && bookForm.controls.page.invalid">
          <span *ngIf="bookForm.get('page').errors.required">Campo obligatorio.</span>
          <span *ngIf="bookForm.get('page').errors.pattern">Campo de tipo numerico.</span>
        </mat-error>
      </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Seleccione la fecha</mat-label>
          <input matInput [matDatepicker]="dp1" formControlName="yearEdicion">
          <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
          <mat-datepicker #dp1 disabled="false"></mat-datepicker>
        </mat-form-field>

        <!-- DE esta forma tambien funciona -->

        <!-- <mat-form-field appearance="fill">
          <mat-label>Completely disabled</mat-label>
          <input matInput [matDatepicker]="dp1" readonly>
          <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
          <mat-datepicker #dp1></mat-datepicker>
        </mat-form-field> -->
      <div class="file">
        <p>*Eliga fotografía</p>
        <app-prv-file-upload
          accepts="application/pdf"
          >
        </app-prv-file-upload>
        <!-- <app-prv-file-upload requiredFileType="image/png"></app-prv-file-upload> -->
      </div>
    </div>
    <div class ="container-button" >
      <button class="container-button__button" mat-raised-button color="primary"
              type="button" (click)="save()" >{{book  ?  'MODIFICAR' : 'AGREGAR'}}</button>
    </div>
  </form>

  <pre> {{ bookForm.value | json }}</pre>
</div>
